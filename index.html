<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn" crossorigin="anonymous">
    <link rel="stylesheet" href="css/tasktab.css">
    <script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script>
    <link rel="stylesheet" href="prism.css">
</head>

<body>

    <ul class="nav nav-pills mb-3" id="pills-tab" role="tablist">
        <li class="nav-item" role="presentation">
            <a class="nav-link active" id="pills-home-tab" data-toggle="pill" href="#preview" role="tab" aria-controls="pills-home" aria-selected="true">PREVIEW</a>
        </li>
        <li class="nav-item" role="presentation">
            <a class="nav-link" id="pills-profile-tab" data-toggle="pill" href="#codehtml" role="tab" aria-controls="pills-profile" aria-selected="false">HTML</a>
        </li>
        <li class="nav-item" role="presentation">
            <a class="nav-link" id="pills-contact-tab" data-toggle="pill" href="#codecss" role="tab" aria-controls="pills-contact" aria-selected="false">CSS</a>
        </li>
        <li class="nav-item" role="presentation">
            <a class="nav-link" id="pills-profile-tab" data-toggle="pill" href="#codejs" role="tab" aria-controls="pills-profile" aria-selected="false">JS</a>
        </li>

        <li class="nav-item" role="presentation">
            <a class="nav-link" id="pills-contact-tab" data-toggle="pill" href="#codeajax" role="tab" aria-controls="pills-contact" aria-selected="false">AJAX</a>
        </li>
    </ul>
    <div class="tab-content" id="pills-tabContent">
        <div class="tab-pane fade show active" id="preview" role="tabpanel" aria-labelledby="pills-home-tab">
            <!--Inicio de la estructura-->
            <div class="content row ">
                <!--Este boton solo se habilita en dispositivos mobiles-->
                <div class="col-12 pb-3">
                    <a href="javascript:void(0)" class="btn btn-primary ml-3 mt-4  botonmenuofreci" onclick="mostarpanel();" id="butopanel">
                        <i class="fas fa-bars"></i>
                    </a>
                </div>
                <!--Este boton solo se habilita en dispositivos mobiles-->

                <!--Inicio panel Izquierdo-->
                <div class="col-sm-12 col-md-4 col-lg-4 listofreci divofreci" id="divofreci">
                    <a href="javascript:void(0)" class="targetofreci" onclick="pruebaejemplo();">
                        <div class="row targetoactive bg-white">
                            <div class="col-sm-12 col-md-12 col-lg-12">
                                <input class="form-check-input mt-3 ml-2" type="checkbox" name="checkboxactiv" id="check1" value="">
                                <p class="mt-2 pl-5 h5 text-primary text-left">22/01/2022 09:48:41</p>
                            </div>
                            <div class="col-12">
                                <p class="pl-5 h5 font-weight-bold texact">
                                    TITULO
                                </p>
                            </div>
                            <div class="col-12">
                                <p class="pl-5 h6 text-dark texact">
                                    detalle</p>
                            </div>
                            <div class="col-12 mb-2">
                                <p class="ml-5 h6 text-muted ">
                                    Descripcion
                                    del cuadro</p>
                            </div>
                        </div>
                    </a>
                </div>
                <!--Fin panel Izquierdo-->

                <!--Inicio panel derecho-->
                <div class="col-sm-12 col-md-8 col-lg-8  detaofreci" id="cuadofrecimi">
                    <!--En este espacio va lo que se va a mostrar-->
                    <center>
                        <br class="mt-5"><br class="mt-5"><br class="mt-2">
                        <h1 class="mt-5"><i class="far fa-envelope"></i></h1>
                        <p class="h3 font-weight-bold">Sin datos seleccionado</p>

                    </center>
                </div>
                <!--Fin panel derecho-->

            </div>
            <!--Fin de la estructura-->
        </div>
        <div class="tab-pane fade" id="codehtml" role="tabpanel" aria-labelledby="pills-profile-tab">
            <pre class="language-markup">
                <code>
&lt;div class="content row"&gt;
   &lt;input type="hidden" name="incidente" id="incidente" value="15"&gt;
   &lt;div class="col-12 container"&gt;
       &lt;nav aria-label="breadcrumb"&gt;
           &lt;ol class="breadcrumb"&gt;
               &lt;li class="breadcrumb-item"&gt;&#60;a href="#"&gt;Inicio&#60;/a&gt;&#60;/li&gt;
               &lt;li class="breadcrumb-item"&gt;&#60;a href="#"&gt;Lista Incidentes&#60;/a&gt;&#60;/li&gt;
               &lt;li class="breadcrumb-item active" aria-current="page"&gt;Ofrecimientos&#60;/li&gt;
           &lt;/ol&gt;
       &lt;/nav&gt;
   &lt;/div&gt;
   &lt;div class="col-12 pb-3"&gt;
       &lt;a href="javascript:void(0)" class="btn btn-social btn-just-icon btn-facebook botonmenuofreci" onclick="mostarpanel();" id="butopanel"&gt;
           &lt;i class="fas fa-bars"&gt;&#60;/i&gt;
       &lt;/a&gt;
   &lt;/div&gt;
   &lt;?php echo ofrecimientoslist($incidentecod); ?&gt;

   &lt;div class="col-sm-12 col-md-8 col-lg-8  detaofreci" id="cuadofrecimi"&gt;
       &lt;center&gt;
           &lt;br class="mt-5"&gt;&#60;br class="mt-5"&gt;&#60;br class="mt-2"&gt;
           &lt;h1 class="mt-5"&gt;&#60;i class="far fa-envelope"&gt;&#60;/i&gt;&#60;/h1&gt;
           &lt;p class="h3 font-weight-bold"&gt;Sin Ofrecimiento seleccionado&#60;/p&gt;
       &lt;/center&gt;
   &lt;/div&gt;
&#60;/div&gt;
                </code>
            </pre>
        </div>
        <div class="tab-pane fade" id="codecss" role="tabpanel" aria-labelledby="pills-contact-tab">
            <pre class="language-css">
                <code>
.targetofreci:hover {
    color: #282828;
}

.targetofreci:link  .texact {               
    color : #282828 !important;
}

.targetofreci:focus  .texact {               
    color : 282828 !important;
}

.targetoactive {
    border-bottom: 1px #D2D2D2 solid;
    border-top: 1px #D2D2D2 solid;

}

.targetoactive:hover {
    border-right: 6px #023e8a solid;
}

.detaofreci {
    border-bottom: 1px #D2D2D2 solid;
    border-top: 1px #D2D2D2 solid;
    overflow-y: auto;
    height: 600px;
}

.listofreci {
    border-right: 0.5px #D2D2D2 solid;
    overflow-y: auto;
    height: 600px;
}

.botonmenuofreci{
    display: none;
}



@keyframes aparece-izquierda
{
    from { 
            transform: translateX(-100%); 
            opacity: 0;
            }
    to { 
            transform: translateX(0%); 
            opacity: 1;
            }
}

@keyframes aparece-derecha
{
    from { 
            transform: translateX(0%); 
            opacity: 0;
            }
    to { 
            transform: translateX(-100%); 
            opacity: 1;
            }
}

@media screen and (max-width: 600px) {
    .divofreci{
        display:none;       
    }
    .botonmenuofreci{
        display:inline-block;
    }
}


@media screen and (max-width: 767px) {
    .divofreci{
        display:none;       
    }
    .botonmenuofreci{
        display:inline-block;
    }
}
                </code>
            </pre>
        </div>
        <div class="tab-pane fade" id="codejs" role="tabpanel" aria-labelledby="pills-profile-tab">
            <pre class="language-js">
                <code>
function validStatuscheck(id, name, numeroarr) {
    if (document.getElementById(id + numeroarr).checked === false) {
        var checkboxs = document.querySelectorAll('input[name = "' + name + '"]');

        checkboxs.forEach(check => {
            if (check.checked === true) {
                check.checked = false;
            }
        });
        document.getElementById('check' + numeroarr).checked = true;
    }
}


function inhabilitarchecks(name) {
    var checkboxs = document.querySelectorAll('input[name = "' + name + '"]');

    checkboxs.forEach(check => {
        if (check.checked === true) {
            check.checked = false;
        }
    });
}




function mostarpanel() {
    const elementdiv = document.querySelector('.divofreci')
    const style = getComputedStyle(elementdiv)
    console.log(style.display);

    if (style.display === 'none') {
        document.getElementById('divofreci').style.display = "block";
        document.getElementById('cuadofrecimi').style.display = "none";        
        document.getElementById('divofreci').style.animation= "aparece-izquierda ease 1s backwards";
    
    } else if (style.display === 'block') {
        document.getElementById('cuadofrecimi').style.display = "block";        
        document.getElementById('divofreci').style.display = "none";

    }

    
}
                </code>
            </pre>
        </div>

        <div class="tab-pane fade" id="codeajax" role="tabpanel" aria-labelledby="pills-profile-tab">
            <pre class="language-php">
                <code>
ob_start();
header("Cache-control: private, no-cache");
header("Last-Modified: " . gmdate("D, d M Y H:i:s") . " GMT");
header("Pragma: no-cache");
header("Cache: no-cahce");
ini_set('max_execution_time', 90000);
ini_set("memory_limit", -1);

require_once("../recursos/mandrill/src/Mandrill.php"); //--correos
require_once("../../CONFIG/constructor.php"); //--correos
include_once('html_fns_incidente.php');
$request = $_REQUEST["request"];
switch($request){
	/////////////// Codigo de muestra para ver funcionamiento //////////////
	case "ofrecimi_inciden":
		$ofrecimiento = $_REQUEST["ofrecimiento"];
		$incidente = $_REQUEST["incidente"];		
			incide_ofrecimiento($ofrecimiento,$incidente);
		break;
	default:
		$arr_respuesta = array(
			"status" => false,
			"data" => [],
			"message" => "Seleccione un metodo..."
		);
		echo json_encode($arr_respuesta);
}

////////////////// Codigo de muestra para ver funcionamiento /////////////////////////

function incide_ofrecimiento($ofrecimiento,$incidente){
	$ClsProb = new ClsOfrecimiento();
   $result = $ClsProb->get_ofrecimiento($ofrecimiento,$incidente,'',1);
   if(is_array($result)){
	   $arr_respuesta = array(
		   "status" => true,
		   "data" => detallofreci($ofrecimiento,$incidente),
		   "message" => ""
	   );
   }else{
	   $arr_respuesta = array(
		   "status" => false,
		   "data" => [],
		   "message" => "AÃºn no hay datos registrados..."
	   );
   }
   echo json_encode($arr_respuesta);
}
                </code>
            </pre>
        </div>
        
    </div>
    

    <script src="prism.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-fQybjgWLrvvRgtW6bFlB7jaZrFsaBXjsOMm/tB9LTS58ONXgqbR9W8oWht/amnpF" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js" integrity="sha384-VHvPCCyXqtD5DqJeNxl2dtTyhF78xXNXdkwX1CZeRusQfRKp+tA7hAShOK/B/fQ2" crossorigin="anonymous"></script>

    <script src="https://kit.fontawesome.com/844a711add.js" crossorigin="anonymous"></script>
    <!--Inicio Script que contine las funciones utilizadas-->
    <script src="js/tasktab.js"></script>
    <!--Fin Script que contine las funciones utilizadas-->

    <script src="funcion.js"></script>


    <!--funcino para deshabilitar los check activos al recargar la pagina-->
    <script>
        $(document).ready(function() {
            inhabilitarchecks('checkboxactiv');
        });
    </script>

</body>

</html>
